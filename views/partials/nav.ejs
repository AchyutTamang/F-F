<nav class="header-bg fixed top-0 left-0 w-full z-50">
  <div class="container mx-auto px-4">
    <div class="flex justify-between items-center py-4">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="/" class="flex items-center">
          <img
            src="https://fnfimagebucket.s3.ap-south-1.amazonaws.com/menu-items/logo_trans.png"
            alt="F&F Coffee Hub"
            class="h-12 mr-3"
          />
          <span class="text-xl font-medium text-dark hidden sm:inline">Froth & Flavours Coffee Hub</span>
        </a>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden lg:flex items-center space-x-6">        <a
          href="/"
          class="nav-link <%= path === '/' ? 'text-primary font-semibold' : 'text-dark hover:text-primary transition-colors' %>"
          >Home</a
        >
        <!-- Menu Dropdown -->
        <div class="dropdown group">
          <a href="/menu" 
             class="nav-link <%= path === '/menu' ? 'text-primary' : 'text-dark group-hover:text-primary transition-colors' %> flex items-center">
            Menu
          </a>
        </div>

          <a href="/merch" class="nav-link text-dark hover:text-primary transition-colors">Merch</a>
          <a href="/#about" class="nav-link text-dark hover:text-primary transition-colors">About Us</a>
          <!-- Cart Icon -->
          <a href="/cart" class="text-dark hover:text-primary relative">
            <i class="fas fa-shopping-cart text-lg"></i>
            <span id="cart-count"
                  class="absolute -top-2 -right-2 bg-primary text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">
                
                </span>
          </a>
          <!-- Contact Us Button -->
          <a href="/#contact"
             class="bg-accent hover:bg-accent/90 text-white px-6 py-2 rounded-full text-sm font-medium transition-colors">Contact Us</a>
      </div>

      <!-- Mobile Menu Button -->
      <div class="md:hidden">
        <button id="mobile-menu-button" class="text-dark focus:outline-none">
          <i class="fas fa-bars text-xl"></i>
        </button>
      </div>
    </div>    <!-- Mobile Menu -->
    <div id="mobile-menu" class="md:hidden hidden pb-4">
      <a href="/" class="block py-2 text-dark hover:text-primary nav-link <%= path === '/' ? 'text-primary font-semibold' : '' %>">
        Home
      </a>

      <!-- Mobile Menu Categories -->
      <div class="py-2">
        <div class="flex items-center justify-between" onclick="toggleMobileMenuCategories()">
          <span class="text-dark hover:text-primary nav-link <%= path === '/menu' ? 'text-primary font-semibold' : '' %>">
            Menu
          </span>
        </div>
        
      </div>

        <a href="/#about" class="block py-2 text-dark hover:text-primary nav-link">About Us</a>
        
        <div class="flex items-center justify-between mt-4">
          <a href="/cart" class="text-dark hover:text-primary relative">
            <i class="fas fa-shopping-cart text-lg"></i>
            <span id="mobile-cart-count"
                  class="absolute -top-2 -right-2 bg-primary text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">
              0
            </span>
          </a>
          <a href="/#contact"
             class="bg-accent hover:bg-accent/90 text-white px-5 py-2 rounded-full text-sm font-medium">
            Contact Us
          </a>
        </div>
    </div>
    </div>
  </div>
</nav>

<style>
  .header-bg {
    backdrop-filter: blur(8px);
    background-color: rgba(255, 249, 234, 0.85);
  }

  .header-scrolled {
    background-color: rgba(255, 249, 234, 0.95);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  }

  .dropdown-menu {
    display: none;
    position: absolute;
    top: 100%;
    /* left: 0; */
    background-color: rgba(255, 249, 234, 0.95);
    border-radius: 0.5rem;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    z-index: 50;
  }

  .dropdown:hover .dropdown-menu {
    display: block;
    
  }
</style>

<script>
document.addEventListener("DOMContentLoaded", () => {
    // loadCart();
    updateCartCount();
  });

  function updateCartCount() {
    const cart = JSON.parse(localStorage.getItem("cart") || "[]");
    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);

    // Update cart count in navigation
    const cartCount = document.getElementById("cart-count");
    const mobileCartCount = document.getElementById("mobile-cart-count");

    if (cartCount) {
      cartCount.textContent = totalItems;
      cartCount.classList.toggle("hidden", totalItems === 0);
    }

    if (mobileCartCount) {
      mobileCartCount.textContent = totalItems;
      mobileCartCount.classList.toggle("hidden", totalItems === 0);
    }
  }

  // Mobile menu toggle
  document.getElementById('mobile-menu-button').addEventListener('click', function() {
    document.getElementById('mobile-menu').classList.toggle('hidden');
  });

  // Mobile menu categories toggle
  function toggleMobileMenuCategories() {
    document.getElementById('mobile-menu-categories').classList.toggle('hidden');
  }

  // Header scroll effect
  window.addEventListener('scroll', function() {
    const header = document.querySelector('.header-bg');
    if (window.scrollY > 50) {
      header.classList.add('header-scrolled');
    } else {
      header.classList.remove('header-scrolled');
    }
  });
</script>
